@{
    ViewData["Title"] = "Home Page";
}


    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1a6baf;
            --secondary: #3498db;
            --accent: #2c3e50;
            --light: #f8f9fa;
            --dark: #343a40;
            --success: #28a745;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf9 100%);
            min-height: 100vh;
            color: var(--dark);
        }

        /* Header */
        .navbar {
            background: linear-gradient(to right, var(--accent), var(--primary));
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 0.8rem 1rem;
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.8rem;
            color: white !important;
            display: flex;
            align-items: center;
        }

        .navbar-brand i {
            margin-right: 10px;
            font-size: 1.5rem;
        }

        .nav-link {
            color: rgba(255, 255, 255, 0.85) !important;
            font-weight: 500;
            padding: 0.5rem 1rem !important;
            border-radius: 4px;
            margin: 0 3px;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            color: white !important;
            background: rgba(255, 255, 255, 0.15);
        }

        .btn-login {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn-login:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Hero Section */
        .hero-section {
            padding: 4rem 0;
            background: white;
            border-radius: 0 0 30px 30px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            margin-bottom: 3rem;
        }

        .hero-img {
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s ease;
            height: 100%;
            object-fit: cover;
        }

        .hero-img:hover {
            transform: translateY(-5px);
        }

        .hero-content {
            padding: 1rem 2rem;
        }

        .hero-title {
            color: var(--primary);
            font-weight: 800;
            margin-bottom: 1.5rem;
            font-size: 2.3rem;
        }

        .hero-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #4a5568;
            margin-bottom: 1.8rem;
        }

        .ai-badge {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            font-weight: 600;
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
            margin: 10px 0;
            font-size: 0.9rem;
        }

        /* Upload Section */
        .upload-section {
            margin-bottom: 4rem;
        }

        .section-title {
            text-align: center;
            color: var(--accent);
            margin-bottom: 2.5rem;
            font-weight: 700;
            position: relative;
            padding-bottom: 15px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border-radius: 2px;
        }

        .upload-card {
            border: none;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden;
        }

        .upload-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
        }

        .card-header {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            font-weight: 600;
            padding: 1.2rem 1.5rem;
            border-bottom: none;
        }

        .card-body {
            padding: 2rem;
        }

        .form-label {
            font-weight: 600;
            color: var(--accent);
            margin-bottom: 0.8rem;
        }

        .form-control {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 0.8rem 1rem;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            border-color: var(--secondary);
            box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.25);
        }

        .btn-primary {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border: none;
            border-radius: 10px;
            padding: 0.8rem 1.8rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(52, 152, 219, 0.4);
        }

        /* Features Section */
        .features-section {
            padding: 4rem 0;
            background: white;
            border-radius: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
            margin-bottom: 4rem;
        }

        .feature-card {
            border: none;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            height: 100%;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            background: #f8fafc;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            background: rgba(52, 152, 219, 0.1);
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .feature-title {
            color: var(--accent);
            font-weight: 700;
            margin-bottom: 1rem;
        }

        /* Footer */
        .footer {
            background: linear-gradient(to right, var(--accent), var(--primary));
            color: white;
            padding: 4rem 0 2rem;
            border-radius: 30px 30px 0 0;
        }

        .footer-title {
            font-weight: 700;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: white;
            border-radius: 2px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            display: block;
            margin-bottom: 0.8rem;
            transition: all 0.3s ease;
        }

        .footer-links a:hover {
            color: white;
            padding-left: 8px;
        }

        .social-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            font-size: 1.2rem;
            margin-right: 10px;
            transition: all 0.3s ease;
        }

        .social-icon:hover {
            background: white;
            color: var(--primary);
            transform: translateY(-5px);
        }

        .copyright {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 1.5rem;
            margin-top: 3rem;
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
        }

        
    </style>

    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-brain"></i>Detection Alzheimer
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-home me-1"></i>Accueil</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-info-circle me-1"></i>À propos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-cogs me-1"></i>Fonctionnalités</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-users me-1"></i>Équipe</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-envelope me-1"></i>Contact</a>
                    </li>
                </ul>
                <div class="ms-lg-3 mt-3 mt-lg-0">
                    <a href="#" class="btn btn-outline-light btn-sm btn-login me-2">
                        <i class="fas fa-sign-in-alt me-1"></i>Connexion
                    </a>
                    <a href="#" class="btn btn-light btn-sm">
                        <i class="fas fa-user-plus me-1"></i>Inscription
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <img src="https://images.unsplash.com/photo-1576091160550-2173dba999ef?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80"
                         alt="Médecin analysant une IRM cérébrale" class="hero-img">
                </div>
                <div class="col-lg-6 hero-content">
                    <h1 class="hero-title">Détection Précoce d'Alzheimer par Intelligence Artificielle</h1>
                    <span class="ai-badge">Technologie Deep Learning Avancée</span>
                    <p class="hero-text">
                        Notre plateforme révolutionnaire utilise des algorithmes d'apprentissage profond de pointe pour analyser les images IRM cérébrales et détecter les signes précoces de la maladie d'Alzheimer avec une précision exceptionnelle.
                    </p>
                    <p class="hero-text">
                        Grâce à un modèle entraîné sur des milliers d'images médicales annotées, notre système identifie les changements subtils dans la structure cérébrale qui pourraient indiquer le début de la maladie, bien avant l'apparition des symptômes cliniques.
                    </p>
                    <p class="hero-text">
                        Cette technologie innovante offre aux professionnels de santé un outil puissant pour un diagnostic plus précoce et plus précis, permettant des interventions thérapeutiques plus efficaces.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Upload Section -->
    <section class="upload-section">
        <div class="container">
            <h2 class="section-title">Analyse d'images IRM</h2>
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="upload-card">
                        <div class="card-header text-center">
                            <i class="fas fa-upload me-2"></i>Analyse d'image médicale
                        </div>
                        <div class="card-body">
                        <form id="uploadForm" enctype="multipart/form-data">
                            <div class="mb-4">
                                <label for="mriFile" class="form-label">Sélectionnez une image IRM :</label>
                                <input class="form-control" type="file" id="mriFile" name="file" accept=".jpg,.jpeg,.png,.dcm" required>
                            </div>
                            <div class="text-center">
                                <button type="submit" class="btn btn-primary px-5">
                                    <i class="fas fa-search me-2"></i>Analyser l'image
                                </button>
                            </div>
                        </form>


                            <div id="imagePreview" class="mt-4 text-center"></div>

                            <div id="loading" class="mt-4 text-center" style="display: none;">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Chargement...</span>
                                </div>
                                <p class="mt-3 fw-medium">Analyse en cours... Veuillez patienter</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
        <div class="container">
            <h2 class="section-title">Notre Technologie Innovante</h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="feature-card p-4 text-center h-100">
                        <div class="feature-icon mx-auto">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h3 class="feature-title">Modèles Deep Learning</h3>
                        <p>Notre système utilise des réseaux de neurones convolutifs (CNN) spécialement conçus pour l'analyse d'images médicales, atteignant une précision de 96%.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card p-4 text-center h-100">
                        <div class="feature-icon mx-auto">
                            <i class="fas fa-robot"></i>
                        </div>
                        <h3 class="feature-title">Intelligence Artificielle</h3>
                        <p>L'IA détecte les changements subtils dans l'hippocampe et le cortex cérébral, indicateurs précoces de la maladie d'Alzheimer.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card p-4 text-center h-100">
                        <div class="feature-icon mx-auto">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3 class="feature-title">Suivi Évolutif</h3>
                        <p>Comparez les résultats au fil du temps pour suivre l'évolution des changements cérébraux et adapter les traitements en conséquence.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <h4 class="footer-title">Detection Alzheimer</h4>
                    <p>Plateforme innovante de détection précoce de la maladie d'Alzheimer par analyse d'images IRM avec intelligence artificielle.</p>
                    <div class="mt-4">
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 mb-4 mb-md-0">
                    <h4 class="footer-title">Page</h4>
                    <div class="footer-links">
                        <a href="#"><i class="fas fa-chevron-right me-2"></i>Accueil</a>
                        <a href="#"><i class="fas fa-chevron-right me-2"></i>À propos</a>
                        <a href="#"><i class="fas fa-chevron-right me-2"></i>Fonctionnalités</a>
                       
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 mb-4 mb-md-0">
                    <h4 class="footer-title">Lien</h4>
                    <div class="footer-links">
                        <a href="#"><i class="fas fa-chevron-right me-2"></i>Inscription</a>
                        <a href="#"><i class="fas fa-chevron-right me-2"></i>Connexion</a>
                        <a href="#"><i class="fas fa-chevron-right me-2"></i>Contact</a>

                    </div>

                </div>
                <div class="col-lg-4 col-md-4">
                    <h4 class="footer-title">Contact</h4>
                    <p><i class="fas fa-map-marker-alt me-2"></i>Errachidia Ain ati2</p>
                    <p><i class="fas fa-phone me-2"></i>+21269029018</p>
                    <p><i class="fas fa-envelope me-2"></i>contact@detection-alzheimer.ma</p>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 Detection Alzheimer. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.getElementById('uploadForm').addEventListener('submit', function (e) {
        e.preventDefault();

        const imagePreview = document.getElementById('imagePreview');
        const fileInput = document.getElementById('mriFile');
        const loading = document.getElementById('loading');

        // Nettoyage avant
        imagePreview.innerHTML = '';
        loading.style.display = 'block';

        // Vérifie si un fichier est sélectionné
        if (fileInput.files.length === 0) {
            alert("Veuillez sélectionner une image.");
            loading.style.display = 'none';
            return;
        }

        const file = fileInput.files[0];
        const formData = new FormData();
        formData.append("file", file);

        // Affichage de l'aperçu de l'image (immédiat)
        const reader = new FileReader();
        reader.onload = function (e) {
            const img = document.createElement('img');
            img.src = e.target.result;
            img.classList.add('img-fluid', 'mt-3', 'rounded', 'shadow');
            img.style.maxHeight = '300px';
            imagePreview.appendChild(img);
        };
        reader.readAsDataURL(file);

        // Envoie AJAX vers l'action ASP.NET Core
        fetch("/Detection/Analyze", {
            method: "POST",
            body: formData
        })
        .then(res => res.json())
        .then(data => {
            loading.style.display = 'none';

            const resultDiv = document.createElement('div');
            resultDiv.classList.add('alert', 'mt-4');

            if (data.success) {
                resultDiv.classList.add('alert-success');
                resultDiv.innerHTML = `
                    <h4 class="alert-heading">Résultats de l'analyse</h4>
                    <p><strong>Indice de classe :</strong> ${data.predictClass}</p>
                    <p><strong>Confiance :</strong> ${parseFloat(data.predictConfiance) * 100} %</p>
                `;
            } else {
                resultDiv.classList.add('alert-danger');
                resultDiv.innerHTML = `<p>Erreur : ${data.error}</p>`;
            }

            imagePreview.appendChild(resultDiv);
        })
        .catch(error => {
            loading.style.display = 'none';
            console.error('Erreur:', error);

            const errorDiv = document.createElement('div');
            errorDiv.classList.add('alert', 'alert-danger', 'mt-4');
            errorDiv.innerText = "Erreur lors de l'envoi de l'image ou traitement serveur.";
            imagePreview.appendChild(errorDiv);
        });
    }); 
</script>
